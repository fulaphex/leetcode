use std::collections::{HashMap, HashSet, VecDeque};

impl Solution {
    fn build_graph(
        k: i32,
        conditions: &Vec<Vec<i32>>,
    ) -> (HashMap<i32, HashSet<i32>>, HashMap<i32, HashSet<i32>>) {
        let mut children = HashMap::from_iter((1..=k).map(|k| (k, HashSet::new())));
        let mut parents = HashMap::from_iter((1..=k).map(|k| (k, HashSet::new())));

        for cond in conditions {
            let (x, y) = (cond[0], cond[1]);
            children.entry(x).and_modify(|v| {
                v.insert(y);
            });
            parents.entry(y).and_modify(|v| {
                v.insert(x);
            });
        }

        return (children, parents);
    }
    fn topo_sort(
        k: i32,
        mut parents: HashMap<i32, HashSet<i32>>,
        mut children: HashMap<i32, HashSet<i32>>,
    ) -> Option<Vec<i32>> {
        let mut empty_parents: VecDeque<i32> = parents
            .iter()
            .filter(|(_k, v)| v.len() == 0)
            .map(|(k, _v)| *k)
            .collect();

        let mut acc = vec![];
        while empty_parents.len() > 0 {
            let par = empty_parents.pop_front().unwrap();
            acc.push(par);
            let chds = children.remove(&par).unwrap();
            for c in &chds {
                parents.get_mut(c).unwrap().remove(&par);
                if parents.get(c).unwrap().len() == 0 {
                    empty_parents.push_back(*c);
                }
            }
        }
        return if acc.len() == (k as usize) {
            Some(acc)
        } else {
            None
        };
    }

    pub fn build_matrix(
        k: i32,
        row_conditions: Vec<Vec<i32>>,
        col_conditions: Vec<Vec<i32>>,
    ) -> Vec<Vec<i32>> {
        let uk = k as usize;

        let row_graph = Self::build_graph(k, &row_conditions);
        let row_vals = Self::topo_sort(k, row_graph.1, row_graph.0);

        let col_graph = Self::build_graph(k, &col_conditions);
        let col_vals = Self::topo_sort(k, col_graph.1, col_graph.0);

        if row_vals.is_none() || col_vals.is_none() {
            return vec![];
        }

        let mut row_map: HashMap<i32, usize> = HashMap::new();
        let mut col_map: HashMap<i32, usize> = HashMap::new();

        for (idx, v) in row_vals.unwrap().iter().enumerate() {
            row_map.insert(*v, idx);
        }

        for (idx, v) in col_vals.unwrap().iter().enumerate() {
            col_map.insert(*v, idx);
        }

        let mut grid = vec![vec![0; uk]; uk];
        for val in (1..=k) {
            grid[*row_map.get(&val).unwrap()][*col_map.get(&val).unwrap()] = val;
        }

        return grid;
    }
}

struct Solution {}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test1() {
        let k = 3;
        let row_conditions: Vec<Vec<i32>> = [[1, 2], [3, 2]].iter().map(|x| Vec::from(x)).collect();
        let col_conditions: Vec<Vec<i32>> = [[2, 1], [3, 2]].iter().map(|x| Vec::from(x)).collect();
        let out = Solution::build_matrix(k, row_conditions, col_conditions);
    }

    #[test]
    fn test2() {
        let k = 3;
        let row_conditions: Vec<Vec<i32>> = [[1, 2], [2, 3], [3, 1], [2, 3]]
            .iter()
            .map(|x| Vec::from(x))
            .collect();
        let col_conditions: Vec<Vec<i32>> = [[2, 1]].iter().map(|x| Vec::from(x)).collect();
        let out = Solution::build_matrix(k, row_conditions, col_conditions);
        let res: Vec<Vec<i32>> = vec![];
        assert_eq!(out, res);
    }

    #[test]
    fn test3() {
        let k = 10;
        let row_conditions: Vec<Vec<i32>> = [
            [5, 2],
            [5, 10],
            [4, 10],
            [4, 5],
            [4, 1],
            [1, 3],
            [4, 9],
            [2, 10],
            [4, 6],
            [4, 3],
            [5, 2],
            [6, 3],
            [4, 1],
        ]
        .iter()
        .map(|x| Vec::from(x))
        .collect();
        let col_conditions: Vec<Vec<i32>> = [[3, 7], [10, 1], [10, 5], [9, 3], [6, 7], [6, 8]]
            .iter()
            .map(|x| Vec::from(x))
            .collect();
        let out = Solution::build_matrix(k, row_conditions, col_conditions);
    }

    #[test]
    fn test4() {
        let k = 385;
        let row_conditions: Vec<Vec<i32>> = [
            [61, 167],
            [25, 99],
            [70, 276],
            [187, 375],
            [164, 267],
            [62, 371],
            [238, 183],
            [157, 307],
            [263, 252],
            [299, 156],
            [46, 182],
            [206, 266],
            [50, 302],
            [263, 160],
            [292, 317],
            [95, 371],
            [76, 89],
            [356, 255],
            [307, 371],
            [156, 264],
            [235, 95],
            [347, 346],
            [125, 330],
            [281, 25],
            [216, 371],
            [182, 113],
            [177, 94],
            [332, 80],
            [9, 185],
            [357, 22],
            [9, 253],
            [10, 76],
            [183, 113],
            [274, 178],
            [150, 16],
            [273, 22],
            [37, 220],
            [252, 94],
            [255, 245],
            [51, 116],
            [10, 309],
            [290, 41],
            [281, 69],
            [138, 33],
            [247, 235],
            [308, 211],
            [357, 174],
            [309, 110],
            [30, 333],
            [318, 332],
            [58, 229],
            [261, 202],
            [50, 204],
            [300, 232],
            [37, 322],
            [199, 248],
            [332, 337],
            [81, 244],
            [128, 56],
            [151, 77],
            [37, 132],
            [86, 175],
            [287, 302],
            [236, 178],
            [325, 148],
            [6, 224],
            [40, 87],
            [364, 298],
            [148, 49],
            [293, 36],
            [142, 32],
            [287, 43],
            [256, 253],
            [350, 32],
            [210, 276],
            [277, 305],
            [25, 112],
            [251, 7],
            [39, 119],
            [62, 239],
            [273, 373],
            [313, 205],
            [20, 26],
            [91, 296],
            [351, 117],
            [282, 348],
            [197, 326],
            [372, 57],
            [258, 152],
            [203, 163],
            [28, 266],
            [283, 62],
            [66, 375],
            [39, 312],
            [324, 12],
            [258, 248],
            [26, 117],
            [292, 340],
            [19, 89],
            [144, 115],
            [150, 213],
            [259, 265],
            [367, 99],
            [337, 121],
            [70, 21],
            [310, 129],
            [378, 305],
            [332, 287],
            [261, 147],
            [163, 368],
            [158, 176],
            [207, 87],
            [88, 216],
            [9, 200],
            [10, 344],
            [159, 242],
            [221, 102],
            [345, 296],
            [263, 108],
            [318, 306],
            [136, 229],
            [120, 355],
            [61, 77],
            [204, 135],
            [277, 168],
            [221, 380],
            [47, 138],
            [9, 208],
            [186, 346],
            [147, 360],
            [68, 329],
            [376, 380],
            [202, 176],
            [302, 17],
            [245, 11],
            [289, 297],
            [51, 57],
            [238, 44],
            [177, 172],
            [44, 337],
            [230, 349],
            [114, 140],
            [218, 288],
            [216, 29],
            [316, 171],
            [18, 342],
            [103, 22],
            [249, 287],
            [25, 158],
            [89, 45],
            [75, 382],
            [120, 272],
            [10, 180],
            [44, 53],
            [5, 171],
            [374, 100],
            [305, 191],
            [157, 208],
            [338, 208],
            [180, 159],
            [258, 12],
            [51, 160],
            [125, 71],
            [128, 57],
            [285, 224],
            [292, 170],
            [2, 303],
            [142, 219],
            [356, 118],
            [280, 165],
            [112, 296],
            [83, 302],
            [225, 254],
            [96, 232],
            [296, 14],
            [52, 74],
            [37, 98],
            [274, 220],
            [382, 12],
            [277, 167],
            [164, 323],
            [68, 15],
            [190, 172],
            [350, 308],
            [67, 211],
            [355, 340],
            [381, 212],
            [35, 230],
            [89, 113],
            [53, 26],
            [63, 377],
            [5, 363],
            [214, 213],
            [147, 171],
            [221, 215],
            [111, 24],
            [369, 358],
            [344, 113],
            [212, 198],
            [153, 49],
            [8, 301],
            [79, 239],
            [318, 113],
            [358, 259],
            [178, 80],
            [263, 358],
            [277, 26],
            [68, 36],
            [299, 288],
            [98, 250],
            [315, 275],
            [290, 31],
            [231, 147],
            [51, 218],
            [313, 66],
            [353, 245],
            [59, 60],
            [130, 2],
            [193, 255],
            [385, 63],
            [190, 29],
            [313, 244],
            [116, 346],
            [185, 171],
            [145, 323],
            [314, 219],
            [128, 235],
            [283, 56],
            [34, 108],
            [197, 364],
            [87, 246],
            [33, 49],
            [369, 19],
            [127, 202],
            [341, 360],
            [221, 84],
            [147, 238],
            [320, 212],
            [349, 337],
            [62, 71],
            [212, 159],
            [306, 32],
            [46, 29],
            [242, 102],
            [221, 121],
            [130, 103],
            [212, 302],
            [206, 141],
            [236, 349],
            [25, 288],
            [3, 176],
            [35, 379],
            [324, 361],
            [286, 57],
            [123, 249],
            [254, 182],
            [147, 123],
            [259, 198],
            [154, 279],
            [222, 22],
            [135, 54],
            [174, 368],
            [84, 42],
            [156, 265],
            [65, 60],
            [217, 140],
            [27, 81],
            [233, 288],
            [334, 368],
            [184, 109],
            [245, 334],
            [69, 136],
            [282, 103],
            [110, 195],
            [38, 331],
            [352, 50],
            [165, 11],
            [26, 215],
            [214, 345],
            [369, 175],
            [59, 329],
            [166, 278],
            [5, 204],
            [128, 121],
            [214, 252],
            [31, 198],
            [340, 60],
            [358, 12],
            [335, 307],
            [299, 358],
            [308, 16],
            [147, 169],
            [142, 307],
            [154, 120],
            [201, 195],
            [320, 113],
            [261, 321],
            [276, 57],
            [174, 251],
            [367, 380],
            [357, 259],
            [42, 211],
            [133, 101],
            [353, 319],
            [170, 74],
            [294, 104],
            [185, 178],
            [13, 141],
            [363, 251],
            [231, 89],
            [348, 174],
            [375, 211],
            [276, 2],
            [331, 109],
            [324, 220],
            [381, 8],
            [53, 104],
            [101, 57],
            [315, 73],
            [307, 189],
            [312, 143],
            [278, 82],
            [367, 311],
            [282, 374],
            [225, 49],
            [268, 377],
            [44, 338],
            [228, 191],
            [370, 298],
            [47, 263],
            [147, 206],
            [372, 249],
            [34, 64],
            [196, 202],
            [20, 125],
            [133, 99],
            [350, 352],
            [68, 172],
            [39, 326],
            [105, 229],
            [209, 374],
            [172, 108],
            [349, 278],
            [280, 24],
            [256, 137],
            [14, 43],
            [313, 27],
            [335, 215],
            [252, 211],
            [75, 117],
            [53, 319],
            [367, 385],
            [285, 367],
            [212, 274],
            [158, 108],
            [382, 24],
            [313, 213],
            [279, 270],
            [206, 204],
            [116, 176],
            [322, 182],
            [31, 349],
            [132, 7],
            [154, 250],
            [237, 244],
            [51, 189],
            [203, 135],
            [43, 311],
            [289, 161],
            [217, 322],
            [363, 302],
            [164, 125],
            [247, 26],
            [190, 311],
            [238, 362],
            [112, 182],
            [344, 201],
            [229, 201],
            [79, 9],
            [179, 337],
            [184, 4],
            [9, 11],
            [180, 239],
            [78, 135],
            [88, 256],
            [107, 175],
            [107, 187],
            [207, 126],
            [306, 4],
            [35, 181],
            [300, 25],
            [357, 116],
            [306, 89],
            [236, 257],
            [233, 382],
            [225, 48],
            [100, 170],
            [270, 212],
            [221, 9],
            [48, 368],
            [273, 311],
            [289, 174],
            [285, 77],
            [79, 102],
            [149, 201],
            [303, 340],
            [268, 118],
            [62, 329],
            [67, 53],
            [196, 118],
            [90, 378],
            [168, 92],
            [163, 57],
            [310, 367],
            [196, 237],
            [186, 105],
            [165, 21],
            [84, 140],
            [241, 24],
            [96, 75],
            [162, 58],
            [385, 250],
            [67, 48],
            [174, 45],
            [75, 83],
            [214, 99],
            [187, 109],
            [196, 339],
            [172, 237],
            [27, 317],
            [2, 384],
            [150, 205],
            [258, 239],
            [125, 74],
            [318, 324],
            [179, 54],
            [177, 201],
            [110, 335],
            [358, 224],
            [289, 112],
            [114, 175],
            [319, 77],
            [263, 102],
            [277, 376],
            [203, 140],
            [283, 258],
            [144, 288],
            [202, 42],
            [71, 266],
            [328, 255],
            [280, 198],
            [369, 249],
            [187, 211],
            [235, 229],
            [257, 244],
            [336, 92],
            [216, 51],
            [301, 29],
            [239, 176],
            [249, 84],
            [300, 125],
            [122, 114],
            [185, 360],
            [75, 105],
            [131, 12],
            [207, 147],
            [19, 78],
            [210, 308],
            [180, 98],
            [71, 74],
            [337, 246],
            [32, 368],
            [153, 148],
            [282, 331],
            [110, 245],
            [159, 100],
            [99, 248],
            [266, 126],
            [43, 28],
            [184, 200],
            [284, 123],
            [23, 383],
            [343, 268],
            [9, 329],
            [300, 247],
            [225, 242],
            [227, 31],
            [218, 255],
            [309, 23],
            [338, 376],
            [280, 376],
            [372, 271],
            [190, 193],
            [279, 145],
            [78, 274],
            [287, 273],
            [230, 162],
            [96, 339],
            [46, 312],
            [8, 274],
            [338, 375],
            [295, 113],
            [58, 121],
            [367, 263],
            [384, 265],
            [179, 186],
            [251, 188],
            [88, 306],
            [240, 317],
            [144, 152],
            [378, 251],
            [318, 97],
            [159, 340],
            [370, 245],
            [351, 169],
            [147, 104],
            [7, 82],
            [318, 136],
            [179, 224],
            [23, 167],
            [184, 252],
            [249, 335],
            [303, 171],
            [238, 4],
            [10, 254],
            [125, 194],
            [367, 265],
            [70, 266],
            [207, 159],
            [190, 352],
            [134, 89],
            [277, 8],
            [145, 26],
            [121, 93],
            [365, 295],
            [76, 182],
            [44, 12],
            [120, 208],
            [26, 32],
            [64, 2],
            [214, 208],
            [347, 22],
            [324, 320],
            [196, 244],
            [161, 42],
            [69, 296],
            [268, 127],
            [30, 113],
            [299, 220],
            [62, 248],
            [362, 292],
            [276, 193],
            [362, 188],
            [305, 251],
            [327, 334],
            [26, 224],
            [220, 54],
            [131, 53],
            [111, 347],
            [382, 11],
            [177, 132],
            [256, 292],
            [197, 23],
            [284, 308],
            [321, 374],
            [79, 324],
            [290, 355],
            [35, 359],
            [320, 228],
            [381, 126],
            [76, 342],
            [40, 42],
            [364, 138],
            [64, 77],
            [285, 300],
            [257, 264],
            [123, 220],
            [3, 243],
            [350, 160],
            [96, 373],
            [382, 89],
            [157, 329],
            [376, 287],
            [98, 61],
            [269, 181],
            [284, 205],
            [174, 258],
            [337, 296],
            [289, 107],
            [69, 41],
            [34, 351],
            [147, 200],
            [203, 153],
            [197, 109],
            [330, 296],
            [245, 113],
            [2, 72],
            [35, 333],
            [88, 44],
            [367, 363],
            [5, 85],
            [382, 30],
            [199, 262],
            [169, 339],
            [8, 126],
            [160, 333],
            [277, 93],
            [130, 83],
            [179, 189],
            [231, 139],
            [5, 294],
            [7, 222],
            [34, 176],
            [139, 366],
            [67, 152],
            [19, 135],
            [215, 265],
            [116, 372],
            [129, 373],
            [138, 373],
            [304, 3],
            [207, 57],
            [300, 69],
            [128, 234],
            [305, 193],
            [332, 135],
            [92, 192],
            [56, 103],
            [322, 11],
            [284, 29],
            [61, 202],
            [23, 178],
            [261, 305],
            [321, 184],
            [285, 97],
            [381, 385],
            [148, 234],
            [349, 171],
            [116, 167],
            [102, 92],
            [306, 336],
            [32, 21],
            [337, 329],
            [298, 24],
            [287, 311],
            [3, 191],
            [293, 294],
            [123, 12],
            [380, 167],
            [5, 61],
            [116, 170],
            [193, 194],
            [370, 60],
            [230, 237],
            [154, 368],
            [358, 228],
            [342, 121],
            [370, 153],
            [41, 191],
            [218, 220],
            [228, 202],
            [281, 368],
            [4, 327],
            [196, 344],
            [8, 146],
            [41, 95],
            [87, 191],
            [134, 344],
            [4, 375],
            [165, 93],
            [237, 137],
            [44, 6],
            [320, 262],
            [130, 50],
            [70, 334],
            [283, 81],
            [157, 63],
            [310, 374],
            [130, 305],
            [370, 54],
            [86, 15],
            [209, 384],
            [276, 235],
            [280, 19],
            [339, 237],
            [39, 21],
            [228, 92],
            [122, 71],
            [289, 372],
            [289, 219],
            [227, 347],
            [354, 304],
            [124, 36],
            [318, 260],
            [107, 301],
            [105, 266],
            [278, 264],
            [197, 29],
            [120, 256],
            [349, 156],
            [308, 222],
            [38, 77],
            [12, 301],
            [203, 243],
            [343, 69],
            [148, 80],
            [47, 295],
            [309, 200],
            [165, 224],
            [149, 293],
            [109, 60],
            [316, 357],
            [19, 239],
            [122, 307],
            [343, 223],
            [165, 211],
            [56, 100],
            [361, 288],
            [278, 228],
            [209, 222],
            [93, 243],
            [252, 251],
            [174, 333],
            [291, 120],
            [321, 223],
            [47, 182],
            [10, 45],
            [379, 140],
            [214, 302],
            [96, 148],
            [196, 364],
            [207, 56],
            [277, 214],
            [116, 320],
            [372, 74],
            [122, 360],
            [347, 353],
            [139, 87],
            [300, 84],
            [25, 379],
            [310, 159],
            [247, 209],
            [221, 83],
            [237, 380],
            [86, 384],
            [378, 103],
            [120, 372],
            [31, 166],
            [273, 229],
            [183, 111],
            [44, 185],
            [85, 168],
            [310, 265],
            [348, 178],
            [277, 355],
            [132, 293],
            [53, 11],
            [207, 209],
            [230, 272],
            [157, 83],
            [69, 301],
            [198, 43],
            [297, 92],
            [230, 257],
            [322, 108],
            [159, 189],
            [23, 141],
            [306, 42],
            [307, 266],
            [249, 213],
            [277, 81],
            [280, 215],
            [96, 243],
            [147, 299],
            [227, 248],
            [209, 274],
            [157, 313],
            [378, 198],
            [335, 265],
            [170, 245],
            [318, 335],
            [200, 360],
            [147, 344],
            [87, 228],
            [318, 341],
            [316, 359],
            [175, 228],
            [230, 104],
            [125, 65],
            [267, 198],
            [132, 94],
            [180, 258],
            [281, 100],
            [329, 275],
            [97, 82],
            [257, 71],
            [153, 198],
            [116, 339],
            [224, 187],
            [272, 208],
            [328, 70],
            [346, 260],
            [2, 360],
            [209, 288],
            [149, 331],
            [181, 83],
            [215, 126],
            [149, 187],
            [326, 71],
            [231, 114],
            [220, 229],
            [310, 138],
            [262, 219],
            [322, 163],
            [218, 185],
            [154, 157],
            [105, 237],
            [356, 114],
            [381, 93],
            [68, 171],
            [363, 108],
            [365, 232],
            [122, 243],
            [283, 114],
            [238, 198],
            [341, 29],
            [131, 277],
            [149, 330],
            [247, 1],
            [142, 102],
            [109, 28],
            [19, 60],
            [370, 1],
            [198, 140],
            [84, 191],
            [276, 152],
            [370, 174],
            [247, 14],
            [208, 21],
            [227, 175],
            [199, 103],
            [328, 121],
            [119, 366],
            [75, 101],
            [174, 183],
            [133, 178],
            [309, 61],
            [13, 228],
            [105, 74],
            [290, 84],
            [203, 35],
            [213, 187],
            [100, 248],
            [91, 366],
            [196, 185],
            [295, 352],
            [196, 278],
            [178, 245],
            [149, 118],
            [15, 168],
            [272, 262],
            [184, 125],
            [157, 101],
            [116, 254],
            [123, 189],
            [177, 33],
            [153, 182],
            [175, 228],
            [13, 50],
            [145, 307],
            [281, 49],
            [313, 305],
            [374, 167],
            [157, 254],
            [281, 373],
            [221, 36],
            [125, 151],
            [231, 99],
            [278, 188],
            [18, 121],
            [218, 148],
            [284, 201],
            [106, 192],
            [15, 7],
            [153, 215],
            [175, 60],
            [309, 72],
            [343, 332],
            [286, 352],
            [90, 191],
            [121, 115],
            [365, 105],
            [131, 243],
            [123, 191],
            [67, 355],
            [40, 99],
            [9, 240],
            [39, 244],
            [193, 377],
            [261, 101],
            [344, 191],
            [178, 80],
            [351, 271],
            [380, 1],
            [124, 340],
            [270, 86],
            [270, 92],
            [356, 92],
            [70, 56],
            [9, 299],
            [381, 145],
            [256, 302],
            [122, 326],
            [203, 117],
            [235, 254],
            [247, 223],
            [343, 371],
            [51, 148],
            [353, 275],
            [306, 234],
            [37, 262],
            [383, 271],
            [253, 344],
            [2, 326],
            [262, 245],
            [340, 135],
            [364, 220],
            [186, 82],
            [180, 95],
            [324, 110],
            [8, 383],
        ]
        .iter()
        .map(|x| Vec::from(x))
        .collect();
        let col_conditions: Vec<Vec<i32>> = [
            [373, 351],
            [81, 135],
            [47, 17],
            [123, 58],
            [287, 330],
            [43, 84],
            [28, 99],
            [152, 139],
            [109, 27],
            [360, 302],
            [136, 50],
            [39, 156],
            [383, 93],
            [311, 307],
            [185, 212],
            [330, 117],
            [132, 334],
            [244, 280],
            [73, 273],
            [101, 137],
            [341, 90],
            [123, 11],
            [69, 116],
            [58, 14],
            [13, 325],
            [265, 384],
            [86, 252],
            [385, 363],
            [359, 360],
            [225, 60],
            [288, 360],
            [166, 171],
            [288, 308],
            [76, 146],
            [284, 261],
            [215, 348],
            [289, 6],
            [358, 177],
            [235, 165],
            [30, 125],
            [136, 349],
            [345, 52],
            [215, 201],
            [176, 77],
            [78, 51],
            [45, 91],
            [1, 152],
            [129, 65],
            [121, 212],
            [117, 219],
            [289, 53],
            [149, 59],
            [230, 291],
            [300, 381],
            [367, 243],
            [260, 109],
            [77, 295],
            [16, 52],
            [296, 263],
            [229, 117],
            [150, 343],
            [366, 164],
            [117, 226],
            [330, 374],
            [262, 239],
            [247, 273],
            [195, 139],
            [341, 33],
            [208, 80],
            [203, 257],
            [109, 176],
            [1, 260],
            [346, 237],
            [332, 380],
            [369, 27],
            [81, 265],
            [79, 159],
            [51, 50],
            [243, 329],
            [62, 112],
            [93, 58],
            [208, 118],
            [230, 22],
            [175, 112],
            [6, 235],
            [359, 300],
            [157, 171],
            [271, 133],
            [235, 94],
            [358, 227],
            [278, 352],
            [152, 114],
            [385, 50],
            [34, 250],
            [335, 40],
            [65, 82],
            [191, 87],
            [325, 231],
            [298, 78],
            [7, 280],
            [138, 222],
            [154, 87],
            [57, 40],
            [53, 75],
            [297, 143],
            [148, 266],
            [282, 104],
            [372, 212],
            [253, 362],
            [170, 107],
            [47, 372],
            [385, 71],
            [101, 142],
            [27, 337],
            [287, 123],
            [273, 139],
            [340, 378],
            [350, 318],
            [106, 312],
            [354, 355],
            [319, 81],
            [187, 223],
            [183, 38],
            [75, 16],
            [59, 193],
            [176, 298],
            [322, 323],
            [322, 35],
            [245, 252],
            [288, 145],
            [321, 88],
            [229, 349],
            [101, 376],
            [84, 206],
            [247, 76],
            [2, 316],
            [323, 341],
            [244, 214],
            [237, 172],
            [335, 97],
            [149, 216],
            [317, 103],
            [127, 221],
            [359, 60],
            [182, 255],
            [91, 302],
            [251, 8],
            [304, 59],
            [198, 147],
            [334, 287],
            [44, 356],
            [47, 339],
            [260, 4],
            [85, 17],
            [141, 169],
            [75, 335],
            [230, 112],
            [347, 157],
            [311, 165],
            [282, 130],
            [189, 310],
            [353, 254],
            [96, 15],
            [93, 161],
            [207, 146],
            [12, 70],
            [129, 216],
            [157, 83],
            [202, 134],
            [304, 238],
            [369, 293],
            [70, 200],
            [217, 346],
            [7, 313],
            [39, 58],
            [103, 188],
            [235, 66],
            [40, 16],
            [105, 160],
            [68, 103],
            [81, 317],
            [81, 14],
            [371, 202],
            [4, 190],
            [338, 308],
            [354, 67],
            [225, 167],
            [129, 180],
            [62, 321],
            [93, 66],
            [64, 123],
            [149, 141],
            [189, 316],
            [15, 305],
            [296, 310],
            [229, 272],
            [107, 325],
            [77, 376],
            [177, 366],
            [366, 200],
            [33, 205],
            [350, 272],
            [262, 233],
            [135, 121],
            [227, 223],
            [155, 384],
            [297, 194],
            [246, 335],
            [234, 120],
            [44, 59],
            [102, 215],
            [230, 193],
            [319, 9],
            [322, 87],
            [197, 172],
            [332, 160],
            [140, 305],
            [109, 119],
            [178, 246],
            [266, 161],
            [311, 365],
            [260, 202],
            [202, 11],
            [155, 368],
            [155, 168],
            [165, 258],
            [204, 333],
            [380, 250],
            [234, 208],
            [334, 360],
            [5, 372],
            [192, 293],
            [19, 48],
            [91, 105],
            [358, 234],
            [280, 356],
            [190, 377],
            [303, 56],
            [131, 90],
            [123, 378],
            [304, 127],
            [330, 216],
            [182, 204],
            [10, 143],
            [10, 212],
            [251, 186],
            [59, 301],
            [253, 131],
            [115, 200],
            [351, 223],
            [264, 20],
            [346, 207],
            [62, 9],
            [220, 160],
            [168, 173],
            [302, 294],
            [252, 129],
            [173, 38],
            [149, 293],
            [101, 198],
            [198, 27],
            [271, 351],
            [274, 240],
            [142, 158],
            [117, 262],
            [188, 356],
            [47, 156],
            [359, 186],
            [371, 370],
            [53, 225],
            [155, 23],
            [341, 236],
            [300, 62],
            [166, 110],
            [57, 272],
            [28, 157],
            [115, 128],
            [379, 269],
            [366, 208],
            [302, 141],
            [274, 161],
            [198, 358],
            [45, 161],
            [279, 383],
            [50, 183],
            [37, 25],
            [298, 5],
            [186, 151],
            [328, 327],
            [197, 3],
            [76, 63],
            [154, 234],
            [342, 167],
            [1, 232],
            [69, 95],
            [358, 2],
            [57, 385],
            [361, 312],
            [152, 238],
            [307, 305],
            [163, 15],
            [50, 159],
            [157, 108],
            [10, 145],
            [103, 200],
            [202, 146],
            [44, 192],
            [49, 352],
            [242, 98],
            [210, 246],
            [300, 240],
            [149, 205],
            [117, 322],
            [355, 228],
            [385, 375],
            [53, 256],
            [8, 40],
            [58, 11],
            [55, 114],
            [274, 273],
            [119, 224],
            [291, 250],
            [117, 75],
            [306, 84],
            [154, 151],
            [199, 377],
            [232, 68],
            [26, 140],
            [49, 147],
            [290, 160],
            [198, 153],
            [122, 217],
            [115, 93],
            [167, 49],
            [342, 196],
            [135, 223],
            [346, 377],
            [311, 35],
            [158, 139],
            [68, 347],
            [371, 282],
            [293, 356],
            [351, 294],
            [98, 24],
            [291, 76],
            [155, 63],
            [266, 232],
            [68, 113],
            [302, 305],
            [1, 104],
            [100, 161],
            [67, 316],
            [373, 121],
            [228, 306],
            [359, 153],
            [26, 352],
            [44, 32],
            [357, 44],
            [303, 81],
            [53, 193],
            [33, 122],
            [205, 125],
            [138, 146],
            [122, 361],
            [347, 198],
            [270, 293],
            [347, 291],
            [174, 220],
            [304, 281],
            [94, 139],
            [300, 118],
            [148, 141],
            [338, 175],
            [300, 156],
            [100, 221],
            [175, 256],
            [44, 104],
            [284, 143],
            [350, 11],
            [374, 1],
            [330, 158],
            [155, 27],
            [15, 83],
            [169, 352],
            [200, 377],
            [362, 5],
            [182, 271],
            [39, 101],
            [246, 232],
            [360, 333],
            [265, 63],
            [132, 361],
            [270, 319],
            [133, 263],
            [251, 7],
            [309, 11],
            [362, 345],
            [102, 383],
            [62, 383],
            [176, 45],
            [328, 289],
            [117, 296],
            [202, 197],
            [115, 264],
            [297, 170],
            [355, 56],
            [153, 56],
            [126, 66],
            [264, 48],
            [216, 3],
            [300, 3],
            [375, 125],
            [194, 326],
            [33, 123],
            [225, 316],
            [138, 256],
            [85, 14],
            [364, 365],
            [203, 36],
            [32, 116],
            [369, 58],
            [350, 114],
            [176, 262],
            [73, 126],
            [85, 288],
            [44, 6],
            [282, 224],
            [328, 230],
            [235, 265],
            [282, 162],
            [215, 165],
            [359, 132],
            [141, 179],
            [127, 156],
            [12, 339],
            [132, 82],
            [240, 139],
            [12, 305],
            [26, 281],
            [126, 241],
            [222, 25],
            [195, 24],
            [31, 134],
            [91, 212],
            [140, 129],
            [178, 359],
            [64, 143],
            [330, 236],
            [130, 135],
            [128, 154],
            [293, 94],
            [286, 331],
            [225, 272],
            [135, 254],
            [313, 318],
            [198, 311],
            [36, 50],
            [76, 364],
            [234, 363],
            [339, 325],
            [70, 248],
            [310, 239],
            [198, 40],
            [190, 224],
            [175, 258],
            [126, 100],
            [298, 134],
            [41, 134],
            [198, 72],
            [75, 85],
            [172, 320],
            [331, 5],
            [295, 206],
            [383, 184],
            [333, 222],
            [37, 184],
            [142, 325],
            [75, 108],
            [167, 242],
            [19, 365],
            [60, 337],
            [8, 190],
            [341, 382],
            [293, 93],
            [192, 194],
            [201, 147],
            [251, 131],
            [360, 308],
            [148, 254],
            [119, 314],
            [192, 55],
            [385, 335],
            [175, 334],
            [369, 57],
            [300, 62],
            [207, 294],
            [254, 343],
            [383, 174],
            [319, 362],
            [140, 50],
            [385, 70],
            [133, 179],
            [176, 33],
            [233, 200],
            [353, 201],
            [17, 114],
            [271, 106],
            [256, 187],
            [149, 216],
            [149, 165],
            [152, 339],
            [298, 272],
            [95, 240],
            [182, 59],
            [73, 100],
            [328, 286],
            [284, 216],
            [109, 187],
            [255, 271],
            [37, 54],
            [253, 263],
            [335, 5],
            [33, 73],
            [133, 301],
            [336, 243],
            [282, 46],
            [235, 371],
            [357, 315],
            [105, 321],
            [127, 265],
            [286, 146],
            [149, 329],
            [15, 65],
            [142, 141],
            [21, 3],
            [91, 230],
            [344, 66],
            [233, 174],
            [90, 24],
            [293, 58],
            [2, 315],
            [1, 200],
            [179, 14],
            [11, 218],
            [142, 369],
            [226, 337],
            [300, 95],
            [167, 172],
            [332, 315],
            [75, 85],
            [136, 71],
            [33, 380],
            [167, 301],
            [141, 50],
            [128, 215],
            [119, 231],
            [322, 284],
            [96, 134],
            [31, 4],
            [51, 171],
            [288, 15],
            [29, 39],
            [251, 348],
            [339, 92],
            [336, 34],
            [192, 220],
            [170, 320],
            [192, 240],
            [384, 139],
            [259, 314],
            [102, 278],
            [309, 221],
            [29, 321],
            [291, 179],
            [235, 25],
            [179, 87],
            [86, 325],
            [98, 71],
            [89, 263],
            [75, 376],
            [189, 55],
            [244, 221],
            [10, 267],
            [122, 11],
            [111, 81],
            [140, 181],
            [170, 71],
            [237, 310],
            [271, 354],
            [353, 25],
            [297, 34],
            [277, 372],
            [242, 98],
            [86, 63],
            [81, 92],
            [306, 363],
            [281, 52],
            [266, 338],
            [148, 175],
            [291, 284],
            [385, 41],
            [234, 120],
            [322, 256],
            [300, 370],
            [46, 171],
            [17, 83],
            [217, 219],
            [262, 58],
            [155, 206],
            [171, 71],
            [78, 357],
            [373, 336],
            [306, 148],
            [142, 233],
            [271, 19],
            [176, 319],
            [354, 288],
            [95, 189],
            [17, 186],
            [359, 257],
            [21, 38],
            [20, 173],
            [251, 103],
            [242, 268],
            [228, 202],
            [33, 383],
            [105, 29],
            [55, 208],
            [229, 208],
            [267, 257],
            [81, 134],
            [306, 174],
            [375, 2],
            [57, 84],
            [355, 85],
            [44, 121],
            [308, 197],
            [96, 129],
            [175, 178],
            [217, 328],
            [140, 155],
            [286, 131],
            [289, 195],
            [235, 371],
            [314, 52],
            [235, 146],
            [122, 120],
            [382, 220],
            [215, 236],
            [26, 159],
            [177, 229],
            [50, 337],
            [45, 314],
            [243, 220],
            [353, 326],
            [353, 37],
            [59, 11],
            [302, 303],
            [360, 298],
            [23, 210],
            [199, 380],
            [44, 182],
            [375, 26],
            [63, 87],
            [306, 254],
        ]
        .iter()
        .map(|x| Vec::from(x))
        .collect();
        let out = Solution::build_matrix(k, row_conditions, col_conditions);
    }
}
